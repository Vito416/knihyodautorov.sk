/* how-it-works.css — vylepšená epická verze (pouze CSS) */
:root{
  --hiw-paper-bg: url('/assets/paper-texture.png');
  --hiw-grain: 0.06;
  --hiw-ink: #3b2a1a;
  --hiw-gold1: #f8e7b0;
  --hiw-gold2: #cf9b3a;

  /* drobné ladění pro kroky */
  --hiw-step-bg-top: rgba(255,255,255,0.025);
  --hiw-step-bg-bottom: rgba(0,0,0,0.03);
  --hiw-step-accent: rgba(207,155,60,0.06);
  --hiw-step-border: rgba(255,245,230,0.06);
  --hiw-step-radius: 14px;
}

/* KONTEJNER */
.hiw-section { display:flex; justify-content:center; padding:60px 16px; }

/* PAPER WRAP */
.hiw-paper-wrap{
  width: min(1200px,96%); position:relative;
  background-image:
    radial-gradient(800px 280px at 10% 10%, rgba(248,230,176,0.06), transparent 18%),
    radial-gradient(700px 220px at 85% 12%, rgba(207,155,60,0.04), transparent 16%),
    var(--hiw-paper-bg);
  background-position: center;
  background-size: 100% 100%; /* deformuje pozadí přesně na box */
  background-repeat: no-repeat;
  border-radius: 10px;
  padding: 56px;
  box-shadow:
    0 40px 90px rgba(0,0,0,0.16),
    inset 0 18px 40px rgba(0,0,0,0.13),
    inset 0 0 140px rgba(0,0,0,0.06);
  overflow: visible;
  -webkit-font-smoothing:antialiased;
}

/* burnt edges + rim highlight */
.hiw-paper-wrap::before{
  content:""; position:absolute; inset:0; z-index:2; border-radius:10px; pointer-events:none;
  background:
    radial-gradient(120px 80px at 6% 6%, rgba(0,0,0,0.28), rgba(0,0,0,0) 40%),
    radial-gradient(120px 80px at 94% 94%, rgba(0,0,0,0.24), rgba(0,0,0,0) 40%),
    linear-gradient(to top, rgba(0,0,0,0.18), rgba(0,0,0,0) 14%) top/100% 26px no-repeat,
    linear-gradient(to bottom, rgba(0,0,0,0.18), rgba(0,0,0,0) 14%) bottom/100% 26px no-repeat,
    linear-gradient(to left, rgba(0,0,0,0.14), rgba(0,0,0,0) 14%) left/26px 100% no-repeat,
    linear-gradient(to right, rgba(0,0,0,0.14), rgba(0,0,0,0) 14%) right/26px 100% no-repeat;
  mix-blend-mode:multiply;
}
.hiw-paper-wrap::after{
  content:""; position:absolute; inset:0; z-index:3; pointer-events:none;
  background:
    radial-gradient(900px 300px at 85% 10%, rgba(255,230,170,0.18), transparent 16%),
    linear-gradient(180deg, rgba(255,255,255,0.02), transparent 10%);
  background-repeat:no-repeat;
  background-position:center, top;
  background-size:100% 60%, 100% 15%;
  mix-blend-mode:screen; filter: blur(4px) contrast(1.02);
}

/* grain & inner edge (HTML spans existují) */
.hiw-grain-overlay{ position:absolute; inset:0; z-index:4; pointer-events:none;
  background-image:
    radial-gradient(circle at 20% 10%, rgba(0,0,0,0.02) 0 1px, transparent 1px),
    radial-gradient(circle at 80% 90%, rgba(0,0,0,0.02) 0 1px, transparent 1px);
  background-size:3px 3px,4px 4px; opacity:var(--hiw-grain); mix-blend-mode:multiply; transform:translateZ(0);
}
.hiw-paper-edge{ position:absolute; inset:10px; border-radius:8px; z-index:5; pointer-events:none;
  box-shadow: inset 0 6px 0 rgba(255,245,230,0.06), inset 0 -8px 18px rgba(0,0,0,0.08); }

/* container + header */
.hiw-container{ position:relative; z-index:6; }
.hiw-head{ text-align:center; margin-bottom:18px; }
.hiw-title{
  font-family:"Playfair Display",serif;
  font-size:2.6rem;
  color:var(--hiw-ink);
  margin:0 0 8px;
  font-weight:900;
  letter-spacing: -0.02em;
  line-height:1.02;
  text-rendering:optimizeLegibility;
  /* delicate gold underline */
  position:relative;
}
.hiw-title::after{
  content:""; display:block; height:6px; width:68px; margin:10px auto 0;
  border-radius:4px;
  background: linear-gradient(90deg,var(--hiw-gold1),var(--hiw-gold2));
  box-shadow: 0 6px 18px rgba(207,155,60,0.14);
  opacity:0.95;
}
.hiw-sub{ margin:0; color:rgba(59,42,26,0.86); font-weight:700; max-width:780px; margin-left:auto; margin-right:auto; }

/* CTA */
.hiw-cta-wrap{ margin-top:14px; display:flex; justify-content:center; }
.hiw-cta{
  display:inline-block;
  padding:14px 28px;
  border-radius:16px;
  font-weight:900;
  text-decoration:none;
  color:#2b1f0f;
  background: linear-gradient(90deg,var(--hiw-gold1),var(--hiw-gold2));
  box-shadow:
    0 12px 40px rgba(207,155,60,0.20),
    0 2px 0 rgba(255,255,255,0.06) inset;
  position:relative;
  overflow:visible;
  transform:translateZ(0);
  transition: transform .18s ease, box-shadow .18s ease;
  text-shadow: 0 1px 0 rgba(255,255,255,0.12);
}
/* elegant aura */
.hiw-cta::before{
  content:""; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:140%; height:140%; border-radius:22px; z-index:-1;
  background: radial-gradient(ellipse at center, rgba(248,231,176,0.18), transparent 35%);
  filter: blur(10px); opacity:0.9; transition: opacity .18s ease;
}
.hiw-cta:hover{ transform:translateY(-6px) scale(1.02); box-shadow: 0 30px 80px rgba(207,155,60,0.26); }
@media (prefers-reduced-motion:reduce){ .hiw-cta, .hiw-cta::before { transition:none !important; animation:none !important; } }

/* STEPS GRID — max 4 / 3 / 2 / 1 */
.hiw-steps{
  display:grid;
  grid-template-columns: repeat(4, minmax(220px, 1fr));
  gap:20px;
  align-items:start;
  margin-top:22px;
  /* subtle connector line below on large screens */
  position:relative;
}

/* decorative horizontal connector (only on wide screens) */
.hiw-steps::before{
  content:""; display:block; position:absolute; left:6%; right:6%; top:50%;
  height:2px; background: linear-gradient(90deg, transparent 0%, rgba(0,0,0,0.06) 25%, rgba(207,155,60,0.06) 50%, rgba(0,0,0,0.05) 75%, transparent 100%);
  transform: translateY(-50%); z-index:1; pointer-events:none;
}
@media (max-width:1200px){ .hiw-steps::before{ display:none; } }

/* STEP CARD — richer background, border, inner glow, pseudo-decorations */
.hiw-step{
  position:relative;
  background:
    linear-gradient(180deg, var(--hiw-step-bg-top), var(--hiw-step-bg-bottom)),
    linear-gradient(180deg, rgba(255,250,230,0.02), rgba(0,0,0,0.02));
  border-radius: var(--hiw-step-radius);
  padding:20px;
  text-align:center;
  border: 1px solid var(--hiw-step-border);
  box-shadow:
    0 10px 30px rgba(10,10,10,0.06),
    inset 0 -6px 18px rgba(0,0,0,0.04);
  transition: transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .28s ease;
  z-index:6;
  overflow:visible;
}

/* subtle gold ribbon top-right */
.hiw-step::after{
  content:""; position:absolute; top:12px; right:12px; z-index:8;
  width:58px; height:10px; border-radius:6px;
  background: linear-gradient(90deg, rgba(255,250,230,0.85), rgba(207,155,60,0.95));
  box-shadow: 0 6px 14px rgba(207,155,60,0.08);
  transform: rotate(12deg);
  opacity:0.95;
  pointer-events:none;
}

/* soft decorative inner highlight */
.hiw-step::before{
  content:""; position:absolute; inset:0; border-radius:var(--hiw-step-radius); z-index:2; pointer-events:none;
  background: radial-gradient(300px 120px at 10% 18%, rgba(255,245,210,0.035), transparent 28%);
  mix-blend-mode: screen;
}

/* hover lift */
.hiw-step:hover{
  transform: translateY(-8px);
  box-shadow: 0 36px 90px rgba(10,10,10,0.12), inset 0 -10px 26px rgba(0,0,0,0.05);
}
@media (prefers-reduced-motion:reduce){ .hiw-step{ transition:none !important; } }

/* ICON — more embossed and gold rim */
.hiw-step-icon{
  width:72px; height:72px; line-height:72px; font-size:28px; border-radius:50%;
  margin:0 auto 12px; display:flex; align-items:center; justify-content:center;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.04));
  border: 2px solid rgba(255,245,230,0.06);
  box-shadow: inset 0 4px 10px rgba(255,255,255,0.03), 0 12px 30px rgba(0,0,0,0.08);
  color: var(--hiw-ink);
}

/* TITLE — slight gold gradient text + shadow */
.hiw-step-title{
  margin:0 0 8px; font-size:1.06rem; font-weight:900;
  color: var(--hiw-ink);
  /* subtle metallic text */
  background: linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,0));
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 1px 0 rgba(255,255,255,0.03);
  z-index:6;
}

/* TEXT — tighter, higher contrast */
.hiw-step-text{
  margin:0; color:rgba(59,42,26,0.92); line-height:1.4; font-weight:600;
  font-size:0.96rem;
}

/* inline code */
.hiw-step code{ background: rgba(0,0,0,0.04); padding:2px 6px; border-radius:6px; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size:.95em; }

/* responsiveness: 4 / 3 / 2 / 1 */
@media (max-width:1200px){ .hiw-steps{ grid-template-columns: repeat(3, minmax(200px,1fr)); } }
@media (max-width:900px){
  .hiw-steps{ grid-template-columns: repeat(2, minmax(180px,1fr)); }
  .hiw-title{ font-size:2.1rem; }
  .hiw-step{ padding:16px; }
}
@media (max-width:480px){
  .hiw-steps{ grid-template-columns: 1fr; gap:14px; }
  .hiw-step-icon{ width:56px; height:56px; line-height:56px; font-size:22px; }
  .hiw-title{ font-size:1.9rem; }
}

/* accessibility */
@media (prefers-reduced-motion:reduce){
  *{ transition:none !important; animation:none !important; }
  .hiw-cta::before, .hiw-steps::before { display:none !important; }
}