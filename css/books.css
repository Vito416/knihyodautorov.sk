/* books.css — štýl zladený s about sekciou (pergamen, 3D rám, 4/3/2/1 grid)
   Poznámka: papierová textúra sa zámerne roztiahne (background-size: 100% 100%)
*/

/* ========== Root premenné (easy tune) ========== */
:root{
  --paper-bg-tint: rgba(255,240,210,0.035);
  --gold-1: #f8e7b0;
  --gold-2: #cf9b3a;
  --gold-3: #8b5a20;
  --ink: #3b2a1a;
  --deep-shadow: rgba(0,0,0,0.52);
  --warm-light: rgba(255,230,170,0.14);
  --grain-opacity: 0.06;
  --card-radius: 12px;
  --accent-dark: #2b1608;
  --muted: #d9cdb1;
  --transition: 320ms cubic-bezier(.2,.9,.2,1);
  --texture: url('/assets/paper-texture.png');
}

/* ======================== KONTEJNER ======================== */
.books-section {
  display: flex;
  justify-content: center;
  padding: 60px 16px;
}

/* PAPER WRAP */
.books-paper-wrap {
  width: min(1200px, 96%);
  position: relative;
  background-image: var(--texture);
  background-position: center;
  background-size: 100% 100%; /* deformuje pozadí přesně na box */
  background-repeat: no-repeat;
  border-radius: 10px;
  padding: 56px;
  box-shadow:
    0 30px 70px rgba(0,0,0,0.14),
    inset 0 18px 40px rgba(0,0,0,0.13),
    inset 0 0 120px rgba(0,0,0,0.06);
  overflow: visible;
}

/* burnt edges overlay */
.books-paper-wrap::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 2;
  border-radius: 10px;
  pointer-events: none;
  background:
    radial-gradient(120px 80px at 6% 6%, rgba(0,0,0,0.22), rgba(0,0,0,0) 40%),
    radial-gradient(120px 80px at 94% 94%, rgba(0,0,0,0.20), rgba(0,0,0,0) 40%),
    linear-gradient(to top, rgba(0,0,0,0.18), rgba(0,0,0,0) 14%) top/100% 26px no-repeat,
    linear-gradient(to bottom, rgba(0,0,0,0.18), rgba(0,0,0,0) 14%) bottom/100% 26px no-repeat,
    linear-gradient(to left, rgba(0,0,0,0.12), rgba(0,0,0,0) 14%) left/26px 100% no-repeat,
    linear-gradient(to right, rgba(0,0,0,0.12), rgba(0,0,0,0) 14%) right/26px 100% no-repeat;
  mix-blend-mode: multiply;
}

/* rim-light / highlight overlay */
.books-paper-wrap::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  background:
    radial-gradient(900px 300px at 85% 10%, rgba(255,230,170,0.16), transparent 16%),
    linear-gradient(180deg, rgba(255,255,255,0.015), transparent 10%),
    radial-gradient(40px 26px at 96% 96%, rgba(0,0,0,0.16), rgba(0,0,0,0) 60%),
    radial-gradient(30px 18px at 5% 5%, rgba(0,0,0,0.12), rgba(0,0,0,0) 60%);
  background-repeat: no-repeat;
  background-position: center, top, right bottom, left top;
  background-size: 100% 60%, 100% 15%, 110px 80px, 90px 60px;
  mix-blend-mode: screen;
  filter: blur(4px) contrast(1.02);
}

/* Grain overlay: vlož do HTML jako <span class="books-grain-overlay" aria-hidden="true"></span> */
.books-paper-wrap .books-grain-overlay {
  position: absolute;
  inset: 0;
  z-index: 4;
  pointer-events: none;
  background-image:
    radial-gradient(circle at 20% 10%, rgba(0,0,0,0.02) 0 1px, transparent 1px),
    radial-gradient(circle at 80% 90%, rgba(0,0,0,0.02) 0 1px, transparent 1px);
  background-size: 3px 3px, 4px 4px;
  opacity: var(--grain-opacity);
  mix-blend-mode: multiply;
  transform: translateZ(0);
}

/* volitelná vnitřní linka (paper edge) - vlož jako <span class="books-paper-edge"></span> */
.books-paper-wrap .books-paper-edge {
  position: absolute;
  inset: 10px;
  border-radius: 8px;
  box-shadow: inset 0 6px 0 rgba(255,245,230,0.06), inset 0 -8px 18px rgba(0,0,0,0.08);
  pointer-events: none;
  z-index: 5;
}

/* ======================== HEADER + SEARCH ======================== */
.books-header {
  display:flex; justify-content:space-between; gap:18px; align-items:flex-start;
  margin-bottom:18px; flex-wrap:wrap; position:relative; z-index:6;
  background: rgba(207,152,58,0.09);
  border-left: 6px solid #c08a2e; padding: 18px; border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}

.section-title {
  font-size: 2.6rem; margin: 0 0 12px 0; font-weight: 800; color: #3e2a12;
  text-shadow: 0 2px 0 rgba(255,255,255,0.12), 0 -2px 8px rgba(0,0,0,0.28);
  -webkit-font-smoothing:antialiased;
}
.section-title span {
  color: transparent;
  background: linear-gradient(180deg,#fff4b0 0%,#ffe066 50%,#ffb84d 100%);
  -webkit-background-clip:text; background-clip:text; font-weight:700;
  filter: drop-shadow(0 1px 1px rgba(0,0,0,0.85));
}

/* search row (centrovane) */
.search-row { display:flex; gap:10px; align-items:center; margin-top:8px; z-index:6; justify-content:center; }

/* unified search — upravene, ladiace s pergamenom */
#unifiedSearch {
  padding: 12px 14px 12px 42px;
  min-width: 260px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255,245,220,0.12), rgba(255,245,220,0.08));
  border: 2px solid rgba(207,152,58,0.65);
  color: var(--ink);
  font-size: 1rem;
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.22);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23cf9b3a' d='M10 2a8 8 0 015.29 13.71l4.15 4.15-1.42 1.42-4.15-4.15A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: 12px center; background-size: 18px 18px;
  transition: box-shadow var(--transition), transform 120ms, border-color 0.25s ease;
}

#unifiedSearch::placeholder { color: rgba(60,40,20,0.55); }

#unifiedSearch:focus {
  outline:none; border-color: var(--gold-1);
  box-shadow: 0 10px 30px rgba(0,0,0,0.18), 0 0 12px rgba(255,215,100,0.45);
  transform: translateY(-2px);
}

/* promo note small */
.promo-note { color:var(--ink); opacity:0.9; font-weight:600; }

/* ======================== GRID (4/3/2/1) ======================== */
.books-grid {
  display:grid; gap:22px; grid-template-columns: repeat(1,1fr);
  align-items:start; position:relative; z-index:6; transition: all var(--transition);
}
@media (min-width:1200px){ .books-grid{ grid-template-columns: repeat(4,1fr); } }
@media (min-width:900px) and (max-width:1199px){ .books-grid{ grid-template-columns: repeat(3,1fr); } }
@media (min-width:700px) and (max-width:899px){ .books-grid{ grid-template-columns: repeat(2,1fr); } }
@media (max-width:699px){ .books-grid{ grid-template-columns: repeat(1,1fr); } }

/* ======================== KARTA KNIHY ======================== */
/* základ karty */
.book-card { perspective:1200px; transition: transform 420ms ease, opacity 420ms ease; }
.card-inner {
  position:relative; z-index:10;
  background: linear-gradient(180deg, rgba(255,255,255,0.045), rgba(255,255,255,0.01));
  border-radius: var(--card-radius);
  overflow: visible;
  box-shadow:
    0 22px 70px rgba(0,0,0,0.52),
    inset 0 6px 16px rgba(255,255,255,0.02);
  transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
  display:flex; flex-direction:column;
  min-height:420px;
}

/* epic hover: strong lift + perspective tilt + light sweep */
.card-inner:hover {
  transform: translateY(-14px) rotateX(1.2deg) translateZ(10px);
  box-shadow: 0 48px 140px rgba(0,0,0,0.7);
}
.card-inner::after{
  /* subtle light sweep on hover via transition of opacity - requires JS toggle or hover */
  content:""; position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.04) 45%, rgba(255,255,255,0.0) 70%);
  opacity:0; transition: opacity 420ms ease;
  border-radius:inherit; z-index:11;
}
.card-inner:hover::after{ opacity:1; }

/* meta badge */
.card-meta { position:absolute; margin:12px; z-index:15; }
.badge { background: rgba(0,0,0,0.48); padding:6px 10px; border-radius:999px; color:#fff; font-weight:800; }

/* EPIC BOOK CARD */
.cover-wrap {
  position: relative;
  overflow: hidden;
  padding: 0;
  display: block;
  transform-style: preserve-3d;
}

.book-cover {
  width: 100%;
  height: 320px;
  object-fit: cover;
  border-radius: 14px 14px 0 0; /* pouze horní hrany zaoblené */
  display: block;
  position: relative;
  z-index: 1;
  box-shadow:
    0 14px 40px rgba(0, 0, 0, 0.6),
    inset 0 0 20px rgba(255, 255, 255, 0.05);
  transition:
    transform 0.6s cubic-bezier(.19,1,.22,1),
    box-shadow 0.6s ease,
    filter 0.6s ease;
  backface-visibility: hidden;
}

/* Světelný odlesk */
.cover-wrap::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -75%;
  width: 50%;
  height: 200%;
  background: linear-gradient(120deg,
              rgba(255,255,255,0.0) 0%,
              rgba(255,255,255,0.55) 50%,
              rgba(255,255,255,0.0) 100%);
  transform: rotate(25deg);
  z-index: 2;
  pointer-events: none;
  animation: none;
}

/* Hover efekty */
.card-inner:hover .book-cover {
  transform: translateY(-12px) scale(1.05) rotateX(3deg) rotateY(-2deg);
  box-shadow:
    0 35px 90px rgba(0, 0, 0, 0.9),
    inset 0 0 28px rgba(255, 255, 255, 0.07),
    0 0 25px rgba(255, 215, 150, 0.35); /* zlatavý glow */
  filter: brightness(1.12) saturate(1.18);
}

.card-inner:hover .cover-wrap::after {
  animation: lightSweep 1.2s ease;
}

/* Keyframes pro odlesk */
@keyframes lightSweep {
  0%   { left: -75%; }
  100% { left: 125%; }
}

/* Bonus: jemný pohyb karty */
.card-inner {
  transition: transform 0.4s ease;
}
.card-inner:hover {
  transform: perspective(1200px) rotateX(1.5deg) rotateY(0.5deg);
}

/* ======================== BOOK INFO (text + depth) ======================== */
.card-info {
  padding: 12px 16px 8px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
  z-index: 14;
}

.book-info {
  background: linear-gradient(90deg, rgba(75,48,26,0.92) 0%, rgba(75,48,26,0.0) 85%);
  border-left: 6px solid rgba(255,215,120,0.95);
  padding: 14px 18px;
  border-radius: 6px 6px 0 0; /* horní hrany zaoblené, spodní rovné */
  box-shadow: 0 12px 36px rgba(0,0,0,0.45), inset 0 6px 14px rgba(255,255,255,0.05);
  color: var(--muted);
  backdrop-filter: blur(4px);
  position: relative;
  overflow: hidden;
}
.book-info::before {
  content: "";
  position: absolute;
  top: 0;
  left: -40%;
  width: 60%;
  height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0.25) 0%, transparent 80%);
  transform: skewX(-20deg);
  animation: shimmer2 6s infinite;
}
@keyframes shimmer2 {
  0% { transform: translateX(-150%) skewX(-20deg); }
  50% { transform: translateX(250%) skewX(-20deg); }
  100% { transform: translateX(250%) skewX(-20deg); }
}

/* title + author styling */
.book-title {
  margin: 0;
  font-size: 1.5rem;
  color: var(--ink);
  font-weight: 900;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  text-shadow: 0 2px 3px rgba(255,245,230,0.2), 0 6px 18px rgba(0,0,0,0.6), 0 0 16px rgba(255,215,120,0.4);
  animation: titleFadeIn 1s ease forwards;
}
@keyframes titleFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.book-author {
  margin: 0;
  color: var(--gold-3);
  font-weight: 800;
  opacity: 0.97;
  font-size: 1.05rem;
  letter-spacing: 0.4px;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5), 0 0 6px rgba(255,215,120,0.3);
}
.book-desc {
  margin: 0;
  color: var(--ink);
  opacity: 0.94;
  line-height: 1.6;
  font-size: 1.05rem;
  font-style: italic;
  transition: color 0.3s ease;
}
.book-desc:hover {
  color: var(--gold-1);
}

/* subtle divider */
.card-info .meta-row {
  display: flex;
  gap: 10px;
  align-items: center;
  color: rgba(255,215,120,0.85);
  font-weight: 600;
  font-size: 0.9rem;
}

/* ======================== ACTIONS (centered) ======================== */
.card-actions, .book-actions {
  display: flex;
  justify-content: center;
  gap: 14px;
  padding: 14px 16px 18px;
  z-index: 14;
}

.btn {
  padding: 12px 20px;
  border-radius: 10px;
  font-weight: 800;
  cursor: pointer;
  border: none;
  transition: all 0.25s ease;
  position: relative;
  overflow: hidden;
}
.btn::after {
  content: "";
  position: absolute;
  top: 0;
  left: -50%;
  width: 50%;
  height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0.3) 0%, transparent 80%);
  transform: skewX(-20deg);
  transition: transform 0.5s ease;
}
.btn:hover::after {
  transform: translateX(300%) skewX(-20deg);
}

.btn-view {
  background: linear-gradient(180deg, #2a1a10 0%, #1c1008 100%);
  color: #fff;
  box-shadow: 0 8px 24px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.05);
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
}
.btn-download {
  background: linear-gradient(180deg, var(--gold-1), var(--gold-2));
  color: var(--accent-dark);
  font-weight: 900;
  box-shadow: 0 12px 36px rgba(255,215,120,0.35), inset 0 1px 0 rgba(255,255,255,0.18);
  text-shadow: 0 1px 2px rgba(255,255,255,0.5);
}

.btn:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow: 0 24px 64px rgba(0,0,0,0.7);
  filter: brightness(1.1);
}

/* small secondary action (outline) */
.btn-outline {
  background: transparent;
  border: 1px solid rgba(255,215,120,0.25);
  color: var(--ink);
  padding: 8px 12px;
  border-radius: 8px;
  transition: all 0.25s ease;
}
.btn-outline:hover {
  background: rgba(255,255,255,0.05);
  border-color: var(--gold-2);
}



/* ======================== MODAL ======================== */
.book-modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(6,4,3,0.6); z-index:99999; padding:20px; }
.book-modal[aria-hidden="false"]{ display:flex; }
.modal-inner {
  width:min(980px,96%); background: linear-gradient(180deg, rgba(255,255,255,0.035), rgba(0,0,0,0.02));
  border-radius:12px; padding:18px; box-shadow: 0 30px 120px rgba(0,0,0,0.75); display:flex; gap:18px; align-items:flex-start;
}
.modal-inner img { width:320px; height:420px; object-fit:cover; border-radius:8px; box-shadow: 0 18px 60px rgba(0,0,0,0.6); }
.modal-inner .modal-info { color:var(--ink); }

/* ======================== RESPONSIVE TWEAKS ======================== */
@media (max-width:1100px){
  .section-title { font-size: 2.2rem; }
  .books-section .books-paper-wrap { padding: 26px; }
}
@media (max-width:900px){
  .card-inner { min-height:360px; }
  .book-cover { height:240px; }
  .modal-inner { flex-direction:column; align-items:center; }
  .modal-inner img { width:100%; height:auto; max-height:420px; }
  .books-section .books-paper-wrap { background-size: 100% 120%; /* jemné natiahnutie na menších obrazovkách */ }
}
@media (max-width:700px){
  .books-grid { grid-template-columns: repeat(1,1fr); gap:18px; }
  .card-inner { min-height: auto; }
  .book-cover { height: 320px; }
  .book-frame { inset: 16px; }
}

/* ======================== MISC / ACCESSIBILITY ======================== */
.no-books { padding:26px; color:var(--ink); background: rgba(255,255,255,0.02); border-radius:8px; text-align:center; box-shadow: inset 0 1px 0 rgba(255,255,255,0.02); }

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  * { transition: none !important; animation: none !important; transform:none !important; }
}
