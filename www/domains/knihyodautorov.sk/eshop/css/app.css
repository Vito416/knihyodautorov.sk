/* app.css â€” EPIC theme additions */

/* ---------- root / variables (epic) ---------- */
:root{
  --color-bg: #faf6ef;            /* parchment base */
  --color-paper: #fdfaf6;
  --color-text: #172023;
  --color-muted: #6b5b44;
  --color-accent: #91551a;        /* warm gold/brown */
  --color-accent-600: #7a3f05;
  --color-gold: #d4af37;
  --color-emboss: rgba(18,12,6,0.06);
  --max-width: 1200px;
  --gap: 1rem;
  --radius: 10px;
  --header-height: 96px;
  --brand-font-size: 1.375rem;
  --transition-fast: 220ms cubic-bezier(.2,.8,.2,1);
  --card-shadow: 0 8px 30px rgba(20,10,0,0.06);
}

/* theme variants */
body.sepia-theme { --color-bg: #f4ecd6; --color-paper:#fbf6e6; --color-text:#2b1f12; --color-accent:#8b5e34; }
body.dark-theme { --color-bg:#0b0b10; --color-paper:#0f1724; --color-text:#e6e6e9; --color-accent:#d8b14a; }

/* base */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Georgia, "Times New Roman", serif;
  background: radial-gradient(circle at 10% 10%, rgba(212,175,55,0.03), transparent 8%),
              linear-gradient(180deg, var(--color-bg), var(--color-paper));
  color:var(--color-text);
  line-height:1.45;
  font-size:16px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* container */
.wrap{ max-width: var(--max-width); margin:0 auto; padding: 0 1rem; }

/* === NOTE: header-specific styles removed from here.
   Put header-only rules into header.css and scope them to:
   body.epic-theme .site-header.epic-header { ... }
   === */

/* hero */
.container-hero-epic{
  padding:2.5rem 0;
  margin-bottom:1rem;
  border-radius:12px;
  background-image: url('/assets/parchment-bg.jpg');
  background-size: cover;
  color:var(--color-text);
  box-shadow: 0 10px 40px rgba(16,10,0,0.08);
  position:relative;
  overflow:hidden;
}
.container-hero-epic .hero-inner{ padding:2rem; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.02)); border-radius:10px; }
.hero-title{ font-family: "Garamond", Georgia, serif; font-size:2rem; margin:0 0 .5rem; letter-spacing:0.8px; text-shadow: 0 2px 0 rgba(0,0,0,0.06); }
.hero-sub{ color:var(--color-muted); margin:0 0 1rem; }
.btn-hero{ background: linear-gradient(180deg,var(--color-gold),#b8862b); color:#1a0f00; border:0; padding:.6rem 1rem; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.15); font-weight:800; }

/* catalog & grid */
.catalog-layout { display:grid; grid-template-columns:240px 1fr; gap:1.5rem; align-items:start; }
.catalog-sidebar { background: linear-gradient(180deg,#fff8ee,#fbf3e6); padding:1rem; border-radius:8px; border:1px solid rgba(0,0,0,0.04); }
.grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:1.25rem; }

/* book-card epic styling */
.book-card { background: linear-gradient(180deg,#fffefc,#fcf8f2); border-radius:10px; overflow:hidden; display:flex; flex-direction:column; border:1px solid rgba(0,0,0,0.06); box-shadow: var(--card-shadow); transition: transform var(--transition-fast), box-shadow var(--transition-fast); }
.book-card:hover{ transform: translateY(-6px); box-shadow: 0 12px 34px rgba(12,8,4,0.14); }
.book-card .cover{ position:relative; }
.book-card .cover img{ width:100%; height:240px; object-fit:cover; display:block; border-bottom: 1px solid rgba(0,0,0,0.04); }
.ribbon { position:absolute; left:0; top:8px; background: linear-gradient(180deg,#a76f1a,#6a3d05); color:#fff; padding:.25rem .6rem; font-weight:700; border-top-right-radius:6px; border-bottom-right-radius:6px; transform: translateY(0); box-shadow: 0 3px 8px rgba(0,0,0,0.12); }
.ribbon-owned { background: linear-gradient(180deg,#2b7a3a,#1f4f2a); left:8px; top:12px; border-radius:6px; padding:.2rem .5rem; font-size:.8rem; }
.card-badge { position:absolute; right:8px; top:8px; background:var(--color-paper); padding:.25rem .5rem; border-radius:6px; font-weight:700; font-size:.8rem; border:1px solid rgba(0,0,0,0.04); }
.badge-digital{ background: linear-gradient(180deg,#eef8ff,#deefff); color:#0051a3; border:1px solid rgba(0,81,163,0.06); }
.badge-epic{ background: linear-gradient(180deg,#1b1b1b,#0d0d0d); color:#f8e9b4; }

/* card body/meta */
.card-body{ padding:0.75rem; flex:1 1 auto; }
.title{ margin:0 0 .25rem; font-size:1.05rem; font-weight:700; }
.author{ color:var(--color-muted); margin-bottom:.5rem; }
.excerpt{ color:var(--color-muted); font-size:.92rem; }

/* meta row */
.meta{ padding:0.75rem; display:flex; gap:.5rem; align-items:center; justify-content:space-between; border-top:1px solid rgba(0,0,0,0.03); }
.card-actions { display:flex; gap:.5rem; align-items:center; }

/* buttons */
.btn { padding:.5rem .8rem; border-radius:8px; background:var(--color-accent); color:#fff; border:0; font-weight:700; cursor:pointer; }
.btn-small{ padding:.35rem .6rem; font-size:0.9rem; border-radius:7px; }
.btn-ghost{ background:transparent; border:1px solid rgba(0,0,0,0.04); color:var(--color-text); }
.btn-outline{ background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--color-text); }

/* modal preview */
.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1600; }
.modal.open{ display:flex; }
.modal-backdrop{ position:absolute; inset:0; background:rgba(3,3,3,0.6); }
.modal-panel{ position:relative; width:min(960px, 95%); background: linear-gradient(180deg,#fffefc,#fbf6ec); border-radius:12px; box-shadow: 0 20px 60px rgba(6,4,2,0.4); padding:1rem; z-index:2; display:flex; }
.modal-close{ position:absolute; right:10px; top:10px; background:transparent; border:0; font-size:1.25rem; cursor:pointer; }
.modal-inner{ display:flex; gap:1rem; align-items:flex-start; }
.modal-cover img{ width:220px; height:auto; border-radius:6px; box-shadow: 0 8px 30px rgba(0,0,0,0.12); }
.modal-info{ max-width: calc(100% - 240px); }
.modal-title{ font-size:1.4rem; margin:0 0 .5rem; font-weight:800; }
.modal-author{ color:var(--color-muted); margin-bottom:.5rem; }

/* footer */
.site-footer.epic-footer{ background: linear-gradient(180deg,#0b0610,#081018); color:#dcd6c9; padding:1.25rem 0; margin-top:2rem; font-size:0.95rem; }
.site-footer a{ color:#f5e7b0; }

@media (max-width:900px){
  .catalog-layout{ grid-template-columns: 1fr; }
  .search-wrap input[type="search"]{ width: 60vw; }
  .modal-panel{ flex-direction:column; align-items:center; text-align:center; }
  .modal-inner{ flex-direction:column; align-items:center; }
}

/* misc accessible focus */
a:focus, button:focus, .dropdown-toggle:focus { outline: 3px solid rgba(217,168,80,0.18); outline-offset: 2px; border-radius: 8px; }

/* small helpers */
.small { font-size:0.9rem; color:var(--color-muted); }
.muted { color:var(--color-muted); }

/* print: simplify */
@media print {
  .nav-toggle, .main-nav, .flash-messages, .site-footer, .modal { display:none !important; }
  body { background:#fff; color:#000; font-family: serif; }
}

.flash-info,
.flash-success,
.flash-warning,
.flash-error {
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.flash-hide {
  opacity: 0;
  transform: translateY(-10px);
}